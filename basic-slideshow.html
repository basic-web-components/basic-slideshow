<!--
Cycles through a set of child elements (e.g., images).
-->

<link rel="import" href="../basic-sequence/basic-sequence.html">

<polymer-element name="basic-slideshow" extends="basic-sequence" attributes="autoStart interval">

<template>
  <style>
  polyfill-next-selector {
    content: ':host([effect=crossfade]) > .sequenceTransition';
  }
  :host([effect=crossfade]) ::content .sequenceTransition {
    transition: opacity 2s;
  }
  </style>
  <shadow></shadow>
</template>

<script>
Polymer( "basic-slideshow", {

  autoStart: true,

  attached: function() {
    this.super();
    if ( this.autoStart ) {
      this.start();
    }
  },

  interval: 3000, // Three seconds

  next: function() {
    this.super();
    if ( this.playing ) {
      this._tick();
    }
  },

  previous: function() {
    this.super();
    if ( this.playing ) {
      this._tick();
    }
  },

  ready: function() {
    this.super();
    if ( this.effect == null ) {
      this.effect = "crossfade";
    }
    if ( this.wrapAround == null ) {
      this.wrapAround = true;
    }
  },

  start: function() {
    this.playing = true;
    this._tick();
  },

  stop: function() {
    clearTimeout( this._timeout );
    this.playing = false;
  },

  _tick: function() {
    this._timeout = setTimeout( function() {
      this.next();
    }.bind( this ), this.interval );
  },

  _timeour: null
  
});
</script>

</polymer-element>
